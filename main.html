<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欢迎使用</title>
    <link rel="stylesheet" type="text/css" href="static/css/step.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/base.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/banneralert.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="static/CodeMirror/codemirror.css"/>
    <script src="static/CodeMirror/codemirror.js"></script>
    <script src="static/CodeMirror/clike.js"></script>
    <script src="static/js/jquery-1.11.0.min.js"></script>
    <script src="static/js/banneralert.min.js"></script>
    <script src="static/js/bootstrap.js"></script>
    <script src="static/js/main.js"></script>
    <script>
        function startMain(){
            initAll();
        }
    </script>
</head>
<body>
<div class = "body-container">
    <div class="dHead">
        <div class="navbar-wrapper maintitle" role="navigation">
            <h1>南京理工大学程序设计能力评测系统题目打包程序</h1>
        </div>
        <div class="six steps large step-navbar">
            <span name = "stepBtn" class="step active">开始</span>
            <span name = "stepBtn" class="step">题目基本信息</span>
            <span name = "stepBtn" class="step">编辑题目内容</span>
            <span name = "stepBtn" class="step">添加测试用例</span>
            <span name = "stepBtn" class="step">添加题解</span>
            <span name = "stepBtn" class="step">完成确认</span>
        </div>
    </div>
    <div class="dBody">
        <div name="stepDiv" id="step0">
            <div class="col-md-8 col-md-offset-2">
                <div class="subhead">欢迎使用</div>
                <ul class="h4">
                    <li>欢迎使用南京理工大学程序设计能力评测系统题目打包程序，该程序将引导您完成一道题目的创建，在创建结束以后，您将得到一个题目的压缩包，您只需要将其提交到评测系统上即可完成一道题目的上传.</li>
                    <br/>
                    <li>如果您在使用过程中发现了 bug 或着有意见或建议, 请通过<a href="https://github.com/NJUST-FishTeam/NJUST_OnlineJudge_M6_BugReport/issues" target="_blank"> 这里 </a>提交给我们，我们会尽力满足您的需求, 以便更好的为广大师生服务.</li>
                    <br/>
                    <li>初次使用强烈建议您阅读<a href="help.html" target='_blank'> 帮助页面 </a>来获取帮助. 特别是关于测试用例的格式要求, 您需要注意. 当然您也可以随时点击程序中的 <span class="glyphicon glyphicon-question-sign helpText"></span> 按钮来查看帮助页面.</li>
                    <br/>
                    <li>您在编辑或更改任意一项后请及时保存, 以免您所做的工作丢失.</li>
                    <br/>
                    <li>现在您可以点击右下角的开始按钮创建新的题目, 或者点击该按钮编辑之前创建过的题目
                        <div class="btn-group">
                            <span class="btn btn-default" id="uploadBtn" data-toggle="tooltip" data-placement="bottom" title="上传已有压缩包">
                                <span class="glyphicon glyphicon-open" aria-hidden="true"></span>
                            </span>
                            <input type="file" accept=".zip" id="uploadProBtn" style="display: none"/>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div name="stepDiv" id="step1" class="hidden">
            <div class="col-md-4 col-md-offset-4">
                <div class="subhead">题目基本信息<a class="glyphicon glyphicon-question-sign helpText" href="help.html#problemBaseInfo" target="_blank"></a></div>
                <div class="form-group">
                    <label>标题</label>
                    <input type="text" class="form-control" id="title" placeholder="请输入题目的标题">
                </div>
                <div class="form-group">
                    <label>时间限制(MS)</label>
                    <input type="text" class="form-control" id="timelimit" placeholder="请输入时间限制">
                </div>
                <div class="form-group">
                    <label>内存限制(KB)</label>
                    <input type="text" class="form-control" id="memorylimit" placeholder="请输入内存限制">
                </div>
                <div class="form-group">
                    <label>题目难度</label>
                    <select class="form-control" title="选择题目难度" id="proLevel">
                        <option name="problem_level" id="prolevel" autocomplete="off" value="1">简单</option>
                        <option name="problem_level" id="prolevel" autocomplete="off" value="2">较简单</option>
                        <option name="problem_level" id="prolevel" autocomplete="off" value="3">一般</option>
                        <option name="problem_level" id="prolevel" autocomplete="off" value="4">较难</option>
                        <option name="problem_level" id="prolevel" autocomplete="off" value="5">难</option>
                    </select>
                </div>
            </div>
        </div>
        <div name="stepDiv" id="step2" class="hidden">
            <div class="problemEditBar">
                <div id="nic_panel"></div>
            </div>
            <div class="col-md-12">
                <div class="subhead">编辑题目内容<a class="glyphicon glyphicon-question-sign helpText" href="help.html#problemContent" target="_blank"></a></div>
                <div id="problem_description">
                    <h3 class="problemItem">题目描述</h3>
                    <div class="desc_text" id="description_text"></div>
                </div>
                <div id="problem_input">
                    <h3 class="problemItem">输入描述</h3>
                    <div class="desc_text" id="inputdescription_text"></div>
                </div>
                <div id="problem_output">
                    <h3 class="problemItem">输出描述</h3>
                    <div class="desc_text" id="outputdescription_text"></div>
                </div>
                <div id="problem_sampleinput">
                    <h3 class="problemItem">输入样例</h3>
                    <div class="desc_text" id="inputsample_text"></div>
                </div>
                <div id="problem_sampleoutput">
                    <h3 class="problemItem">输出样例</h3>
                    <div class="desc_text" id="outputsample_text"></div>
                </div>
                <div id="problem_hint">
                    <h3 class="problemItem">提示</h3>
                    <div class="desc_text" id="hint_text"></div>
                </div>
                <div id="problem_source">
                    <h3 class="problemItem">来源</h3>
                    <div class="desc_text" id="source_text"></div>
                </div>
            </div>
        </div>
        <div name="stepDiv" id="step3" class="hidden">
            <div class="col-md-6 col-md-offset-3">
                <div class="subhead">添加测试用例<a class="glyphicon glyphicon-question-sign helpText" href="help.html#problemTestcase" target="_blank"></a></div>
                <div class="pull-right">
                    <span class="btn btn-default fileinput-button">
                        <span class="glyphicon glyphicon-folder-open" aria-hidden="true"> 选择文件夹</span>
                        <input id="fileupload" type="file" nwdirectory />
                    </span>
                </div>
                <table id="testCaseTable" class="table table-hover hidden">
                    <thead>
                        <tr>
                            <th> <p style="display:inline">编号</p> </th>
                            <th> <p style="display:inline">输入数据文件</p> </th>
                            <th> <p style="display:inline">输出数据文件</p> </th>
                            <th> <p style="display:inline">测试用例分值</p> </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
        <div name="stepDiv" id="step4" class="hidden">
            <div class="col-md-12">
                <div class="subhead">添加题解<a class="glyphicon glyphicon-question-sign helpText" href="help.html#problemSolution" target="_blank"></a></div>
                <div class="btn-group compiler">
                    <label class="lblcode">编程语言</label>
                    <br/>
                    <select class="form-control compiler" id="compiler" name="compiler">
                        <option name="compiler_select" value="c">C语言</option>
                        <option name="compiler_select" value="cpp">C++语言</option>
                        <option name="compiler_select" value="java">JAVA语言</option>
                    </select>
                </div> <br/><br/>
                <div class="col-md-7">
                    <label class="lblcode">参考程序</label>
                    <textarea id="code" rows="25"></textarea>
                </div>
                <div class="col-md-5">
                    <label class="lblcode">解题思路</label>
                    <textarea class="form-control" id="solution" rows="25"></textarea>
                </div>
            </div>
        </div>
        <div name="stepDiv" id="step5" class="hidden">
            <div class="col-md-8 col-md-offset-2">
                <div class="subhead">完成确认</div>
                <ul class="h4">
                    <li>如果您已填写了之前的所有项目并且确定填写正确, 您可以单击下方的下载题目信息按钮来下载题目压缩包</li>
                    <br/>
                    <li>当然, 在您单击按钮之后, 我们会对您之前的工作做一个校验, 但是类似题目内容和参考题解这类的信息, 我们无法校验, 还请您注意检查</li>
                    <br/>
                    <li>当您的测试文件数据量很大时生成压缩包的时间会比较长, 请您耐心等待</li>
                </ul>
                <div id = "hintDiv" class="alert alert-dismissable alert-warning hidden">
                    <strong>提醒 </strong>您可以单击重新开始一道新的题目按钮来编辑一道新的题目, 但是这会导致您当前的编辑信息丢失, 请您在确定已经成功下载题目信息压缩包后再继续.
                </div>
                <br/>
                <div class="text-center">
                    <div class="btn-group">
                        <span class="btn btn-default downloadBtn" id="downloadBtn" data-toggle="tooltip" data-placement="bottom" title="下载题目信息">
                            <span class="glyphicon glyphicon-download-alt downloadico" aria-hidden="true"></span>
                        </span>
                        <input type="file" nwsaveas="problem.zip" accept=".zip" id="saveProBtn" style="display: none"/>
                    </div>
                    <div class="btn-group hidden" id="repeatDiv">
                        <button class="btn btn-default " id="repeatBtn" data-toggle="tooltip" data-placement="bottom" title="重新开始一道新的题目"><span class="glyphicon glyphicon-repeat downloadico" aria-hidden="true"></span></button>
                    </div>
                </div>
                <br/>
            </div>
        </div>
    </div>
    <div class="dBtn">
        <div class="preStepBtn hidden" id="preStepBtn">
            <button class="btn btn-success" role="button" id="preBtn"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true">上一步</span></button>
        </div>
        <div class="previewBtn hidden" id="previewStepBtn">
            <button class="btn btn-default" id="previewBtn">预览 <span class="glyphicon glyphicon glyphicon-new-window" aria-hidden="true"></span></button>
        </div>
        <div class="saveStepBtn hidden" id="saveStepBtn">
            <button class="btn btn-info" id="saveBtn">保存 <span class="glyphicon glyphicon glyphicon-floppy-save" aria-hidden="true"></span></button>
        </div>
        <div class="nextStepBtn" id="nextStepBtn">
            <button class="btn btn-success" role="button" id="nextBtn">下一步<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></button>
        </div>
    </div>
</div>
<div class="footer">
    <img class="pull-right" width="64px" height="64px" src="static/images/ICPC-Logo-Fishead.png">
    <div class="footer-text">
        <small class="pull-right">南京理工大学程序设计能力评测系统题目打包程序</small><br>
        <p class="footer-p">
            <small class="pull-right">版权所有 &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, 南京理工大学FishTeam开发组，保留一切权利</small>
        </p>
    </div>
</div>
</body>
    <script src="static/js/nicedit.js"></script>
    <script>
        bkLib.onDomLoaded(function() {

            startMain();

           var myNicEditor = new nicEditor({fullPanel : true,iconsPath:"static/images/nicEditorIcons.gif"});
           myNicEditor.setPanel('nic_panel');
           edits = ["description","inputdescription","outputdescription","inputsample","outputsample","hint","source"]
           for (i in edits)
               myNicEditor.addInstance(edits[i]+"_text");
        });
   </script>
</html>
